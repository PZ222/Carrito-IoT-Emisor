/* =====================================================
   Carrito IoT – CONTROL (Emisor)
   ===================================================== */
:root{
  --bg-0:#050712;
  --bg-1:#090E1C;
  --panel:#0F172A;

  --text:#F9FAFB;
  --muted:#9CA3AF;

  --brand:#EF4444;
  --brand-soft:rgba(239,68,68,.16);

  --ring:#1F2937;
  --shadow:0 18px 45px rgba(0,0,0,.55);

  --speed-lento:#0EA5E9;
  --speed-medio:#22C55E;
  --speed-rapido:#F97316;
}

*{
  box-sizing:border-box;
  margin:0;
  padding:0;
}

html,body{height:100%;}

body.emisor{
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text);
  background:
    radial-gradient(900px 520px at 50% -15%, rgba(239,68,68,.25) 0%, transparent 60%),
    radial-gradient(700px 480px at 8% 120%, rgba(37,99,235,.18) 0%, transparent 60%),
    linear-gradient(180deg,var(--bg-1),var(--bg-0));
}

/* Layout principal */
.container{
  max-width:900px;
  margin:0 auto;
  padding:16px 10px 24px;
}

.page-title{
  text-align:center;
  margin:4px 0 10px;
  font-size:clamp(24px,2.2vw + 1rem,34px);
  font-weight:900;
  letter-spacing:.04em;
  text-shadow:0 12px 30px rgba(0,0,0,.65);
}

/* HUD API / WS */
.hud{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-bottom:10px;
}

.chip{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 12px;
  border-radius:999px;
  border:1px solid var(--ring);
  font-size:.85rem;
  background:linear-gradient(180deg,#111827,#020617);
}
.chip.hint span{font-family:monospace;}
.chip.muted{color:var(--muted);}

/* Panel principal */
.panel-control{
  background:linear-gradient(180deg,var(--panel),#020617);
  border-radius:18px;
  border:1px solid var(--ring);
  box-shadow:var(--shadow);
  padding:10px 10px 14px;
}

/* header dentro del panel */
.header-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  margin-bottom:6px;
}
.field-inline{
  display:flex;
  align-items:center;
  gap:6px;
}
.field-inline label{
  font-size:.9rem;
}
.field-inline input{
  width:80px;
  padding:4px 8px;
  border-radius:10px;
  border:1px solid var(--ring);
  background:#020617;
  color:var(--text);
  font-family:monospace;
  font-size:.9rem;
}
.field-inline input:focus{
  outline:2px solid rgba(239,68,68,.65);
}
.field-inline input::-webkit-inner-spin-button,
.field-inline input::-webkit-outer-spin-button{
  -webkit-appearance:none;
  margin:0;
}

/* Botón de velocidad */
.btn-speed{
  min-width:140px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--ring);
  background:#020617;
  color:var(--text);
  font-size:.8rem;
  font-weight:600;
  cursor:pointer;
  user-select:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:6px;
  box-shadow:0 8px 18px rgba(0,0,0,.4);
  transition:background .1s ease,border-color .1s ease,transform .08s ease,box-shadow .08s ease;
}
.btn-speed:hover{
  transform:translateY(-1px);
  box-shadow:0 12px 22px rgba(0,0,0,.55);
}
.btn-speed:active{
  transform:translateY(1px) scale(.97);
  box-shadow:0 5px 15px rgba(0,0,0,.6);
}

/* Modos de color */
.speed-medio{
  border-color:rgba(34,197,94,.7);
  background:radial-gradient(circle at 0 0,rgba(34,197,94,.2),transparent 45%), #022c22;
}
.speed-rapido{
  border-color:rgba(249,115,22,.7);
  background:radial-gradient(circle at 0 0,rgba(249,115,22,.2),transparent 45%), #2b1103;
}

/* Texto de estado */
.status-line{
  margin-top:2px;
  text-align:center;
  font-size:.85rem;
  color:var(--muted);
}

/* Wrapper pad */
.pad-wrapper{
  margin-top:8px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
}

/* GRID 4x3 (4 / 4 / 3+1 vacío) */
.pad-grid{
  display:grid;
  grid-template-columns:repeat(4, minmax(60px,1fr));
  grid-auto-rows:70px;
  gap:8px;
  justify-content:center;
}

/* Tiles */
.tile{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:3px;
  border-radius:14px;
  border:1px solid rgba(15,23,42,.9);
  background:
    radial-gradient(circle at 20% 0%,rgba(248,250,252,.05),transparent 40%),
    linear-gradient(180deg,#111827,#020617);
  box-shadow:0 8px 18px rgba(0,0,0,.5);
  cursor:pointer;
  user-select:none;
  transition:transform .08s ease,box-shadow .08s ease,border-color .08s ease,background .08s ease;
  font-size:.8rem;
  text-align:center;
}
.tile.empty{
  opacity:0;
  pointer-events:none;
  box-shadow:none;
}
.tile:hover{
  transform:translateY(-1px);
  box-shadow:0 12px 26px rgba(0,0,0,.7);
  border-color:rgba(239,68,68,.6);
}
.tile:active{
  transform:translateY(1px) scale(.97);
  box-shadow:0 6px 16px rgba(0,0,0,.7);
}
.tile-icon{
  font-size:1.2rem;
}
.tile-label{
  font-size:.72rem;
  letter-spacing:.02em;
}
.tile-stop{
  border-color:rgba(248,113,113,.9);
  background:
    radial-gradient(circle at 20% 0%,rgba(248,113,113,.15),transparent 40%),
    linear-gradient(180deg,#1F2937,#020617);
}

/* Footer */
.footer{
  margin-top:10px;
  display:flex;
  justify-content:center;
}

/* Responsivo móvil */
@media (max-width:768px){
  .container{
    padding:12px 8px 18px;
  }
  .panel-control{
    padding:10px 8px 12px;
  }
  .pad-grid{
    grid-template-columns:repeat(4,minmax(58px,1fr));
    grid-auto-rows:64px;
  }
  .tile-icon{font-size:1.1rem;}
  .tile-label{font-size:.7rem;}
}
